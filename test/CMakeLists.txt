if(SCIPLIB)
    add_test(NAME scip_farmer_de COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_farmer_dd COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_farmer_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_farmer_bd COMMAND $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_sslp_bd COMMAND $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/sslp_5_25_50 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -121.6)
    add_test(NAME scip_drslp_drbd COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
    add_test(NAME scip_drslp_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
    add_test(NAME scip_sslp_BB_drbd COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0703)
    add_test(NAME scip_sslp_BB_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0703)
    add_test(NAME scip_sslp_BC_drbd COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
    add_test(NAME scip_sslp_BC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
    # add_test(NAME scip_sslp_CC_drbd COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.836)
    add_test(NAME scip_sslp_CC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.811)
    add_test(NAME scip_noswot_de COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -42)
    if(MA27LIB)
        add_test(NAME ooqp_farmer_dd COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_ooqp.txt --test -108389.9994043)
    endif(MA27LIB)
endif(SCIPLIB)

if(CPLEXLIB)
    add_test(NAME cpx_farmer_de COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_farmer_dd COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_farmer_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_drslp_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test 5.60247)
    add_test(NAME cpx_sslp_BB_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0703)
    add_test(NAME cpx_sslp_BC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0705)
    add_test(NAME cpx_sslp_CC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -194.811)
    add_test(NAME cpx_noswot_de COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -42)
    add_test(NAME cpx_noswot_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -42)
endif(CPLEXLIB)

if(GUROBILIB)
    add_test(NAME grb_farmer_de COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_farmer_dd COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_farmer_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_drslp_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test 5.60247)
    add_test(NAME grb_sslp_BB_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0703)
    add_test(NAME grb_sslp_BC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0705)
    add_test(NAME grb_sslp_CC_drdd COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -194.811)
    add_test(NAME grb_noswot_de COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -42)
    add_test(NAME grb_noswot_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -42)
endif(GUROBILIB)

if (MPI_CXX_FOUND)
    if(SCIPLIB)
        add_test(NAME scip_farmer_dd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_farmer_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_farmer_bd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_sslp_bd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/sslp_5_25_50 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -121.6)
        add_test(NAME scip_sslp_BB_drbd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0703)
        add_test(NAME scip_sslp_BC_drbd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
        add_test(NAME scip_sslp_CC_drbd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.811)
        add_test(NAME scip_drslp_drbd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
        # add_test(NAME scip_noswot_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -42)
        if(MA27LIB)
            add_test(NAME ooqp_farmer_dd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_ooqp.txt --test -108389.9994043)
            add_test(NAME ooqp_farmer_dd_mpi_async COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_async_dd.txt --test -108389.9994043)
        endif(MA27LIB)
    endif(SCIPLIB)

    if(CPLEXLIB)
        add_test(NAME cpx_farmer_dd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
        add_test(NAME cpx_farmer_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
        add_test(NAME cpx_noswot_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -42)
    endif(CPLEXLIB)

    if(GUROBILIB)
        add_test(NAME grb_farmer_dd_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
        add_test(NAME grb_farmer_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
        add_test(NAME grb_noswot_dw_mpi COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -42)
    endif(GUROBILIB)
    
endif(MPI_CXX_FOUND)