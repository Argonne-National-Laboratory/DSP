if(SCIPLIB)
    add_test(NAME scip_bd_farmer COMMAND $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_bd_sslp COMMAND $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/sslp_5_25_50 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -121.6)
    add_test(NAME scip_dd_farmer COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_de_farmer COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    add_test(NAME scip_de_noswot COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -41)
    add_test(NAME scip_drbd_drslp COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
    add_test(NAME scip_drbd_farmer COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108354)
    add_test(NAME scip_drbd_sslp_BB COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0703)
    add_test(NAME scip_drbd_sslp_BC COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
    add_test(NAME scip_drdd_drslp COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
    add_test(NAME scip_drdd_farmer COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108354)
    add_test(NAME scip_drdd_sslp_BB COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
    add_test(NAME scip_drdd_sslp_BC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
    # add_test(NAME scip_drbd_sslp_CC COMMAND $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.836)
    add_test(NAME scip_drdd_sslp_CC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.811)
    add_test(NAME scip_dw_farmer COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
    if(MA27LIB)
        add_test(NAME ooqp_dd_farmer COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_ooqp.txt --test -108389.9994043)
    endif(MA27LIB)
endif(SCIPLIB)

if(CPLEXLIB)
    add_test(NAME cpx_de_farmer COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_dd_farmer COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_drdd_drslp COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test 5.60247)
    add_test(NAME cpx_drdd_farmer COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108354)
    add_test(NAME cpx_drdd_sslp_BB COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0703)
    add_test(NAME cpx_drdd_sslp_BC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0705)
    add_test(NAME cpx_drdd_sslp_CC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -194.811)
    add_test(NAME cpx_dw_farmer COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
    add_test(NAME cpx_de_noswot COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -41)
    add_test(NAME cpx_dw_noswot COMMAND $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -41)
    add_test(NAME cpx_dd_subgrad_sslp COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/sslp_5_25_50 --param ${CMAKE_SOURCE_DIR}/test/params_dd_subgrad.txt --test -121.6)
endif(CPLEXLIB)

if(GUROBILIB)
    add_test(NAME grb_de_farmer COMMAND $ENV{PWD}/src/runDsp --algo de --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_dd_farmer COMMAND $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_drdd_drslp COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test 5.60247)
    add_test(NAME grb_drdd_farmer COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108354)
    add_test(NAME grb_drdd_sslp_BB COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0703)
    add_test(NAME grb_drdd_sslp_BC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0705)
    add_test(NAME grb_drdd_sslp_CC COMMAND $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -194.811)
    add_test(NAME grb_dw_farmer COMMAND $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
    add_test(NAME grb_noswot_de COMMAND $ENV{PWD}/src/runDsp --algo de --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -41)
    add_test(NAME grb_noswot_dw COMMAND $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -41)
endif(GUROBILIB)

if (MPI_CXX_FOUND)
    if(SCIPLIB)
        add_test(NAME scip_bd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_bd_mpi_sslp COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo bd --smps ${CMAKE_SOURCE_DIR}/examples/smps/sslp_5_25_50 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -121.6)
        add_test(NAME scip_dd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_drbd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108354)
        add_test(NAME scip_drbd_mpi_sslp_BB COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0703)
        add_test(NAME scip_drbd_mpi_sslp_BC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
        add_test(NAME scip_drbd_mpi_sslp_CC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.811)
        add_test(NAME scip_drbd_mpi_drslp COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
        add_test(NAME scip_drdd_mpi_drslp COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test 5.60247)
        add_test(NAME scip_drdd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108354)
        add_test(NAME scip_drdd_mpi_sslp_BB COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
        add_test(NAME scip_drdd_mpi_sslp_BC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -98.0705)
        # add_test(NAME scip_drbd_mpi_sslp_CC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drbd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.836)
        add_test(NAME scip_drdd_mpi_sslp_CC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -194.811)
        add_test(NAME scip_dw_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -108389.9994043)
        add_test(NAME scip_dw_mpi_noswot COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_scip.txt --test -41)
        if(MA27LIB)
            add_test(NAME ooqp_dd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_ooqp.txt --test -108389.9994043)
            add_test(NAME ooqp_dd_mpi_farmer_async COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_async_dd.txt --test -108389.9994043)
        endif(MA27LIB)
    endif(SCIPLIB)

    if(CPLEXLIB)
        add_test(NAME cpx_dd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
        add_test(NAME cpx_drdd_mpi_drslp COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test 5.60247)
        add_test(NAME cpx_drdd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108354)
        add_test(NAME cpx_drdd_mpi_sslp_BB COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0703)
        add_test(NAME cpx_drdd_mpi_sslp_BC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -98.0705)
        add_test(NAME cpx_drdd_mpi_sslp_CC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -194.811)
        add_test(NAME cpx_dw_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -108389.9994043)
        add_test(NAME cpx_dw_mpi_noswot COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_cpx.txt --test -41)
    endif(CPLEXLIB)

    if(GUROBILIB)
        add_test(NAME grb_dd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
        add_test(NAME grb_drdd_mpi_drslp COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/drslp_5_5_5_5 --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test 5.60247)
        add_test(NAME grb_drdd_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --wassnorm 2 --wasseps 0.1 --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108354)
        add_test(NAME grb_drdd_mpi_sslp_BB COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BB --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0703)
        add_test(NAME grb_drdd_mpi_sslp_BC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_BC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -98.0705)
        add_test(NAME grb_drdd_mpi_sslp_CC COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo drdd --smps ${CMAKE_SOURCE_DIR}/examples/dro/sslp_5_25_15_CC --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -194.811)
        add_test(NAME grb_dw_mpi_farmer COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --smps ${CMAKE_SOURCE_DIR}/examples/smps/farmer --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -108389.9994043)
        add_test(NAME grb_dw_mpi_noswot COMMAND mpiexec -np 3 $ENV{PWD}/src/runDsp --algo dw --mps ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.mps --dec ${CMAKE_SOURCE_DIR}/examples/mps-dec/noswot.dec --param ${CMAKE_SOURCE_DIR}/test/params_grb.txt --test -41)
    endif(GUROBILIB)
    
endif(MPI_CXX_FOUND)